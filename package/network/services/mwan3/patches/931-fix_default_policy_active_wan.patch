Index: mwan3-2.10.12/files/lib/mwan3/mwan3.sh
===================================================================
--- mwan3-2.10.12.orig/files/lib/mwan3/mwan3.sh
+++ mwan3-2.10.12/files/lib/mwan3/mwan3.sh
@@ -759,6 +759,15 @@ mwan3_create_policies_iptables()
 mwan3_set_policies_iptables()
 {
 	config_foreach mwan3_create_policies_iptables policy
+
+	[ "$MAIN_POLICY" != "default" ] && return
+	local waninfo=$(ubus -S call wan_info get '{"ignore_failover": true}' 2>/dev/null )
+	local wanif=$(echo "$waninfo" | jsonfilter -e '@.interface')
+	if [ -n "$wanif" ]; then
+		local state=$(echo "$waninfo" | jsonfilter -e '@.state')
+		[ "$state" = "Mobile" ] && wanif="${wanif%_*}"
+		echo "$wanif" > "$ACTIVE_WAN"
+	fi
 }
 
 mwan3_set_sticky_iptables()
Index: mwan3-2.10.12/files/usr/sbin/mwan3rtmon
===================================================================
--- mwan3-2.10.12.orig/files/usr/sbin/mwan3rtmon
+++ mwan3-2.10.12/files/usr/sbin/mwan3rtmon
@@ -129,6 +129,19 @@ mwan3_rtmon_route_handle()
 	mwan3_update_dev_to_table
 	mwan3_route_line_dev "tid" "$route_line" "$route_family"
 
+	if echo "$route_line" | grep -q 'default'; then
+		mwan3_update_main_policy
+		if [ "$MAIN_POLICY" = "default" ]; then
+			local waninfo=$(ubus -S call wan_info get '{"ignore_failover": true}' 2>/dev/null )
+			local wanif=$(echo "$waninfo" | jsonfilter -e '@.interface')
+			if [ -n "$wanif" ]; then
+				local state=$(echo "$waninfo" | jsonfilter -e '@.state')
+				[ "$state" = "Mobile" ] && wanif="${wanif%_*}"
+				echo "$wanif" > "$ACTIVE_WAN"
+			fi
+		fi
+	fi
+
 	if [ -n "$tid" ]; then
 		handle_route
 	elif [ -n "${route_line##default*}" ] && [ -n "${route_line##fe80::/64*}" ]; then
