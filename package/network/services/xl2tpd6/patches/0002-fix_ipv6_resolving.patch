Index: xl2tpd6-1.3.17/file.c
===================================================================
--- xl2tpd6-1.3.17.orig/file.c
+++ xl2tpd6-1.3.17/file.c
@@ -1161,6 +1161,11 @@ int set_remoteaddr (char *word, char *va
     return 0;
 }
 
+int is_ipv6(const char *ip) {
+    struct in6_addr addr6;
+    return inet_pton(AF_INET6, ip, &addr6) == 1;
+}
+
 int set_lns (char *word, char *value, int context, void *item)
 {
 #if 0
@@ -1175,13 +1180,17 @@ int set_lns (char *word, char *value, in
 #ifdef DEBUG_FILE
         l2tp_log (LOG_DEBUG, "set_lns: setting LNS to '%s'\n", value);
 #endif
-        l = (struct lac *) item;
-        d = strchr (value, ':');
-        if (d)
-        {
-            d[0] = 0;
-            d++;
-        }
+        if (!is_ipv6(value)) {
+            l = (struct lac *) item;
+            d = strchr (value, ':');
+            if (d)
+            {
+                d[0] = 0;
+                d++;
+            }
+        } else {
+            d = NULL;
+	}
 #if 0 
 		// why would you want to lookup hostnames at this time? 
         hp = gethostbyname (value);
