(function(c,u){typeof exports=="object"&&typeof module<"u"?module.exports=u():typeof define=="function"&&define.amd?define(u):(c=typeof globalThis<"u"?globalThis:c||self,c["network/MobileAPN_js"]=u())})(this,function(){"use strict";function c(n,e,a,o,t,r,d,w){var i=typeof n=="function"?n.options:n;e&&(i.render=e,i.staticRenderFns=a,i._compiled=!0),o&&(i.functional=!0),r&&(i._scopeId="data-v-"+r);var l;if(d?(l=function(s){s=s||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!s&&typeof __VUE_SSR_CONTEXT__<"u"&&(s=__VUE_SSR_CONTEXT__),t&&t.call(this,s),s&&s._registeredComponents&&s._registeredComponents.add(d)},i._ssrRegister=l):t&&(l=w?function(){t.call(this,(i.functional?this.parent:this).$root.$options.shadowRoot)}:t),l)if(i.functional){i._injectStyles=l;var C=i.render;i.render=function(P,m){return l.call(m),C(P,m)}}else{var p=i.beforeCreate;i.beforeCreate=p?[].concat(p,l):[l]}return{exports:n,options:i}}const u={props:{section:{type:Object,required:!0}},data(){return{authTypeOptions:[["0",this.$t("None")],["1",this.$t("PAP")],["2",this.$t("CHAP")]],pdpOptions:[["0","IPv4/IPv6"],["1","IPv4"],["2","IPv6"]]}}};var f=function(){var e=this,a=e._self._c;return a("vuci-form",{attrs:{config:"simcard;operctl;overview",editing:""},scopedSlots:e._u([{key:"default",fn:function({uciData:o}){return[a("vuci-named-section",{attrs:{name:e.section.id,"uci-data":o,title:e.$t("APN database entry configuration"),endpoints:[{endpoint:"apn_database/config"}],"data-key":"apn"},scopedSlots:e._u([{key:"default",fn:function({s:t}){return[a("vuci-form-item-input",{attrs:{"uci-section":t,name:"carrier",label:e.$t("Carrier name"),help:e.$t("Carrier name - name of a company that sells wireless connectivity to customers for cellphone data and telephone calls. It may also be called a mobile network operator, a mobile carrier, cellular company or wireless service provider."),rules:"string",maxlength:"32",required:""}}),a("vuci-form-item-input",{attrs:{"uci-section":t,name:"mcc",label:e.$t("Mobile Country Code"),help:e.$t("Mobile Country Code (MCC) - a mobile code consisting of three digits used to identify GSM networks. MCC is also used along with the International Mobile Subscriber Identity (IMSI) to identify the region from which mobile subscriber belongs."),minlength:"3",maxlength:"3",rules:"number_leading_zeros",required:""}}),a("vuci-form-item-input",{attrs:{"uci-section":t,name:"mnc",label:e.$t("Mobile Network Code"),help:e.$t("Mobile Network Code (MNC) - a unique two- or three-digit number used to identify a home Public Land Mobile Network (PLMN) to. MNC is allocated by the national regulator."),minlength:"1",maxlength:"3",rules:"number_leading_zeros",required:""}}),a("vuci-form-item-input",{attrs:{"uci-section":t,name:"apn",label:e.$t("APN"),help:e.$t("APN (Access Point Name) is configurable network identifier used by a mobile device when connecting to a carrier"),rules:"apn",maxlength:"62",required:""}}),a("vuci-form-item-select",{attrs:{"uci-section":t,label:e.$t("PDP type"),help:e.$t("Specifies what type of address is requested from the operator"),name:"pdptype",options:e.pdpOptions}}),a("vuci-form-item-select",{attrs:{"uci-section":t,name:"authtype",label:e.$t("Authentication type"),help:e.$t("Authentication method that your GSM carrier uses to authenticate new connections on it's network"),initial:"0",options:e.authTypeOptions,required:""}}),a("vuci-form-item-input",{attrs:{"uci-section":t,name:"user",label:e.$t("Username"),help:e.$t("Your username that you would use to connect to your GSM carrier's network"),rules:"string",maxlength:"64",required:!!t.password,depend:t.authtype==="1"||t.authtype==="2"}}),a("vuci-form-item-input",{attrs:{"uci-section":t,name:"password",label:e.$t("Password"),help:e.$t("Your password that you would use to connect to your GSM carrier's network"),rules:"string",maxlength:"64",required:!!t.user,depend:t.authtype==="1"||t.authtype==="2",password:""}})]}}],null,!0)})]}}])})},h=[],b=c(u,f,h,!1,null,null,null,null);const y=b.exports,g={data(){return{editModal:y,apnColumns:[{name:"carrier",label:this.$t("Carrier name"),actions:{sort:!0,filter:{type:"uniqueValues"}}},{name:"mcc",label:this.$t("Mobile country code"),displayFn:this.getReadableMcc,actions:{sort:!0,filter:{type:"uniqueValues"}}},{name:"mnc",label:this.$t("Mobile network code"),actions:{sort:!0}},{name:"apn",label:this.$t("Access point name"),actions:{sort:!0}},{name:"pdptype",label:this.$t("PDP type"),displayFn:this.getReadablePdpType,actions:{sort:!0,filter:{type:"uniqueValues"}}},{name:"authtype",label:this.$t("Authentication type"),displayFn:this.getReadableAuthType,actions:{sort:!0,filter:{type:"uniqueValues"}}}],authTypeOptions:[["0",this.$t("None")],["1",this.$t("PAP")],["2",this.$t("CHAP")]],pdpTypeOptions:[["0","IPv4/IPv6"],["1","IPv4"],["2","IPv6"]],formData:{apn:[]},metadata:{total:0,offset:50},loadingMessage:this.$t("Currently, only the first 50 APNs are displayed. The remaining APNs are being loaded in the background"),loaded:!1}},methods:{getReadableAuthType(n){var e;return((e=this.authTypeOptions[n])==null?void 0:e[1])||""},getReadablePdpType(n){var e;return((e=this.pdpTypeOptions[n])==null?void 0:e[1])||""},getReadableMcc(n,e){return"%s (%s)".format(n,e.country)},afterLoad(){return this.$axios.get("/api/apn_database/config?limit=0&offset=0").then(n=>{var o;const e={".type":"apn",carrier:"-",mcc:"-",mnc:"-",apn:"-"};this.metadata.total=n.metadata.total;const a=Array.from({length:((o=n==null?void 0:n.metadata)==null?void 0:o.total)-this.metadata.offset},()=>e);this.formData.apn=[...this.formData.apn,...a],this.$refs.vuciForm.updateUciData(this.formData.apn,"apn"),this.loadData(this.metadata.total-this.metadata.offset,this.metadata.offset)}).catch(()=>{this.$message.error(this.$t("Failed to load APN data"))})},loadData(n,e){return this.$alert.info({text:this.loadingMessage,hasClose:!1}),this.$axios.get(`/api/apn_database/config?limit=${n}&offset=${e}`).then(a=>{this.formData.apn.splice(e,n,...a.data),this.metadata.offset=e+n,this.$refs.vuciForm.updateUciData(this.formData.apn,"apn")}).catch(()=>{this.$message.error(this.$t("Failed to load APN data"))}).finally(()=>{this.$alert.remove(this.loadingMessage),this.loaded=!0,this.$spin(!1)})}}};var $=function(){var e=this,a=e._self._c;return a("vuci-form",{ref:"vuciForm",attrs:{config:"simcard;operctl;overview","after-load":e.afterLoad},scopedSlots:e._u([{key:"default",fn:function({uciData:o}){return[a("vuci-typed-section",{ref:"vuciSection",attrs:{"uci-data":o,name:"general",title:e.$t("APN Database"),endpoints:[{endpoint:"apn_database/config?limit=50&offset=0"}],"data-key":"apn",type:"apn",columns:e.apnColumns,"edit-form":e.editModal,"form-methods":["get","delete","create"],"exception-options":["id"],"add-title":e.$t("Add new entry"),pagination:"",search:""},on:{"page-change":function(t){!e.loaded&&e.$spin(e.$t("Waiting for remaining data to be loaded"))}},scopedSlots:e._u([{key:"mcc",fn:function({s:t}){return[a("tlt-hint",{attrs:{hints:[{info:t.country}]}},[e._v(" "+e._s(t.mcc)+" ")])]}},{key:"addForm",fn:function({addModel:t}){return[a("tlt-form-item-input",{attrs:{label:e.$t("Carrier name"),help:e.$t("Carrier name - name of a company that sells wireless connectivity to customers for cellphone data and telephone calls. It may also be called a mobile network operator, a mobile carrier, cellular company or wireless service provider."),prop:"carrier",rules:"string",maxlength:"32",required:""},model:{value:t.carrier,callback:function(r){e.$set(t,"carrier",r)},expression:"addModel.carrier"}}),a("tlt-form-item-input",{attrs:{label:e.$t("Mobile country code"),help:e.$t("Mobile Country Code (MCC) - a mobile code consisting of three digits used to identify GSM networks. MCC is also used along with the International Mobile Subscriber Identity (IMSI) to identify the region from which mobile subscriber belongs."),prop:"mcc",minlength:"3",maxlength:"3",rules:"number_leading_zeros",required:""},model:{value:t.mcc,callback:function(r){e.$set(t,"mcc",r)},expression:"addModel.mcc"}}),a("tlt-form-item-input",{attrs:{label:e.$t("Mobile network code"),help:e.$t("Mobile Network Code (MNC) - a unique two- or three-digit number used to identify a home Public Land Mobile Network (PLMN) to. MNC is allocated by the national regulator."),prop:"mnc",minlength:"1",maxlength:"3",rules:"number_leading_zeros",required:""},model:{value:t.mnc,callback:function(r){e.$set(t,"mnc",r)},expression:"addModel.mnc"}}),a("tlt-form-item-input",{attrs:{label:e.$t("Access point name"),help:e.$t("APN (Access Point Name) is configurable network identifier used by a mobile device when connecting to a carrier"),prop:"apn",rules:"apn",maxlength:"62",required:""},model:{value:t.apn,callback:function(r){e.$set(t,"apn",r)},expression:"addModel.apn"}})]}}],null,!0)})]}}]),model:{value:e.formData,callback:function(o){e.formData=o},expression:"formData"}})},_=[],v=c(g,$,_,!1,null,null,null,null);return v.exports});
