{
  "openapi": "3.0.0",
  "info": {
    "title": "Mobile status API documentation",
    "version": "1.0"
  },
  "servers": [],
  "tags": [
    {
      "name": "Modem status"
    }
  ],
  "paths": {
    "/modems/status": {
      "get": {
        "summary": "Returns full status for multiple modems",
        "tags": [
          "Modem status"
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/mobile_status_full_multiple"
          }
        },
        "operationId": "get-network-mobile-modems-status_full"
      },
      "x-web": {
        "menu": [
          "Network",
          "Mobile",
          "Mobile"
        ],
        "hw_tags": {
          "mobile": true
        }
      }
    },
    "/modems/status/{id}": {
      "parameters": [
        {
          "schema": {
            "type": "string",
            "x-web": {
              "enum-depends": {
                "$ref": "#/x-schemas/modem_select"
              }
            }
          },
          "name": "id",
          "in": "path",
          "required": true,
          "description": "Modem ID"
        }
      ],
      "get": {
        "summary": "Returns full status for specified modem",
        "tags": [
          "Modem status"
        ],
        "responses": {
          "200": {
            "$ref": "#/components/responses/mobile_status_full_one"
          },
          "404": {
            "$ref": "#/components/responses/404response"
          }
        },
        "operationId": "get-network-mobile-modems-status_full-id"
      },
      "x-web": {
        "menu": [
          "Network",
          "Mobile",
          "Mobile"
        ],
        "hw_tags": {
          "mobile": true
        }
      }
    }
  },
  "components": {
    "schemas": {
      "status_full": {
        "title": "status_full",
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "imei": {
            "type": "string"
          },
          "model": {
            "type": "string"
          },
          "cell_info": {
            "type": "object",
            "properties": {
              "mcc": {
                "type": "string"
              },
              "mnc": {
                "type": "string"
              },
              "cellid": {
                "type": "string"
              },
              "ue_state": {
                "type": "string"
              },
              "lac": {
                "type": "string"
              },
              "tac": {
                "type": "string"
              },
              "pcid": {
                "type": "string"
              },
              "earfcn": {
                "type": "string"
              },
              "arfcn": {
                "type": "string"
              },
              "uarfcn": {
                "type": "string"
              },
              "rsrp": {
                "type": "string"
              },
              "rsrq": {
                "type": "string"
              },
              "sinr": {
                "type": "string"
              },
              "bandwidth": {
                "type": "string"
              }
            }
          },
          "dynamic_mtu": {
            "type": "boolean"
          },
          "service_modes": {
            "type": "object",
            "properties": {
              "2G": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "3G": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "4G": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "NB": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "5G_NSA": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          },
          "lac": {
            "type": "string",
            "description": "The Location Area Code is a unique number given to each location area within the network. The served area of a cellular radio access network is usually divided into location areas, consisting of one or several radio cells."
          },
          "tac": {
            "type": "string",
            "description": "The Tracking Area Code is a unique number given to each location area within the network. The served area of a cellular radio access network is usually divided into location areas, consisting of one or several radio cells."
          },
          "name": {
            "type": "string",
            "enum": [
              "Primary modem",
              "Secondary modem",
              "External modem",
              "Internal modem",
              "Unknown modem"
            ]
          },
          "index": {
            "type": "number"
          },
          "sim_count": {
            "type": "number"
          },
          "version": {
            "type": "string"
          },
          "manufacturer": {
            "type": "string"
          },
          "builtin": {
            "type": "boolean"
          },
          "mode": {
            "type": "number",
            "enum": [
              0,
              1,
              2,
              3
            ]
          },
          "primary": {
            "type": "number"
          },
          "multi_apn": {
            "type": "boolean"
          },
          "ipv6": {
            "type": "boolean"
          },
          "volte_supported": {
            "type": "boolean"
          },
          "auto_3g_bands": {
            "type": "boolean"
          },
          "operators_scan": {
            "type": "boolean"
          },
          "mobile_dfota": {
            "type": "boolean"
          },
          "framed_routing": {
            "type": "boolean"
          },
          "active_sim": {
            "type": "number",
            "description": "Currently active SIM card."
          },
          "conntype": {
            "type": "string"
          },
          "simstate": {
            "type": "string",
            "enum": [
              "Inserted",
              "Not inserted"
            ]
          },
          "simstate_id": {
            "type": "number",
            "enum": [
              0,
              1
            ]
          },
          "data_conn_state": {
            "type": "string",
            "enum": [
              "Connected",
              "Disconnected",
              "Unknown"
            ]
          },
          "state": {
            "deprecated": true,
            "type": "string",
            "enum": [
              "Connected",
              "Disconnected",
              "Unknown"
            ]
          },
          "data_conn_state_id": {
            "type": "number",
            "minLength": 1,
            "enum": [
              0,
              1,
              2
            ]
          },
          "state_id": {
            "deprecated": true,
            "type": "number",
            "minLength": 1,
            "enum": [
              0,
              1,
              2
            ]
          },
          "txbytes": {
            "type": "number"
          },
          "rxbytes": {
            "type": "number"
          },
          "baudrate": {
            "type": "number"
          },
          "is_busy": {
            "type": "number"
          },
          "data_off": {
            "type": "boolean",
            "description": "Shows if data was turned off with mobileoff SMS."
          },
          "busy_state": {
            "type": "string"
          },
          "busy_state_id": {
            "type": "number"
          },
          "pinstate": {
            "type": "string",
            "minLength": 1,
            "enum": [
              "Inserted",
              "Not ready",
              "Required PIN, X attempts left",
              "Required PUK, X attempts left",
              "Not inserted",
              "SIM failure",
              "Busy",
              "PUK"
            ]
          },
          "pinstate_id": {
            "type": "number",
            "enum": [
              0,
              1,
              2,
              4,
              5,
              10,
              13,
              14,
              15
            ]
          },
          "operator_state": {
            "type": "string",
            "enum": [
              "Not registered",
              "Registered, home",
              "Searching",
              "Denied",
              "Unknown",
              "Roaming"
            ]
          },
          "netstate": {
            "deprecated": true,
            "type": "string",
            "enum": [
              "Not registered",
              "Registered, home",
              "Searching",
              "Denied",
              "Unknown",
              "Roaming"
            ]
          },
          "operator_state_id": {
            "type": "number",
            "minLength": 1,
            "enum": [
              0,
              1,
              2,
              3,
              4,
              5
            ]
          },
          "netstate_id": {
            "deprecated": true,
            "type": "number",
            "minLength": 1,
            "enum": [
              0,
              1,
              2,
              3,
              4,
              5
            ]
          },
          "rssi": {
            "type": "number"
          },
          "signal": {
            "deprecated": true,
            "type": "number"
          },
          "operator": {
            "type": "string"
          },
          "oper": {
            "deprecated": true,
            "type": "string"
          },
          "provider": {
            "type": "string"
          },
          "ntype": {
            "type": "string"
          },
          "imsi": {
            "type": "string"
          },
          "iccid": {
            "type": "string"
          },
          "cellid": {
            "type": "string"
          },
          "rscp": {
            "type": "string"
          },
          "ecio": {
            "type": "string"
          },
          "rsrp": {
            "type": "number"
          },
          "rsrq": {
            "type": "number"
          },
          "sinr": {
            "type": "number"
          },
          "pinleft": {
            "type": "number"
          },
          "volte": {
            "type": "boolean"
          },
          "sc_band_av": {
            "type": "string",
            "enum": [
              "Inactive",
              "Active"
            ],
            "description": "Carrier aggregation"
          },
          "ca_signal": {
            "type": "array",
            "description": "Carrier aggregation signal values",
            "items": {
              "type": "object",
              "properties": {
                "band": {
                  "type": "string"
                },
                "bandwidth": {
                  "type": "string"
                },
                "sinr": {
                  "type": "number"
                },
                "rsrq": {
                  "type": "number"
                },
                "rsrp": {
                  "type": "number"
                },
                "pcid": {
                  "type": "number"
                },
                "frequency": {
                  "type": "string"
                }
              }
            }
          },
          "temperature": {
            "type": "number"
          },
          "mobile_stage": {
            "type": "number",
            "description": "Indicates current mobile connection stage",
            "enum": [
              0,
              1,
              2,
              3,
              4,
              5,
              6,
              7,
              8,
              9,
              10,
              11,
              12,
              13,
              14,
              15,
              16,
              17,
              18,
              19
            ],
            "x-web": {
              "pretty": "Mobile stage",
              "enum-pretty": {
                "0": "Unknown state",
                "1": "Waiting for SIM to be inserted",
                "2": "SIM failure",
                "3": "Idling",
                "4": "Waiting for user action",
                "5": "Waiting for PIN to be entered",
                "6": "Waiting for PUK to be entered",
                "7": "SIM blocked, no PUK attempts left",
                "8": "Initializing mobile connection",
                "9": "Configuring Voice over LTE (VoLTE)",
                "10": "Setting up connection settings",
                "11": "Scanning for available operators",
                "12": "Currently handling SIM PIN event",
                "13": "Currently handling SIM switch event",
                "14": "Initializing modem",
                "15": "Changed default SIM card",
                "16": "Setting up data connection settings",
                "17": "Clearing PDP context",
                "18": "Currently handling config",
                "19": "Mobile connection setup is complete"
              }
            }
          }
        }
      },
      "status_offline": {
        "title": "status_offline",
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Offline modem id"
          },
          "name": {
            "type": "string",
            "enum": [
              "Primary modem",
              "Secondary modem",
              "Internal modem"
            ],
            "description": "Offline modem name"
          },
          "offline": {
            "type": "string",
            "enum": [
              "0",
              "1"
            ],
            "description": "Modem state"
          },
          "blocked": {
            "type": "string",
            "enum": [
              "0",
              "1"
            ],
            "description": "Modem block state"
          },
          "builtin": {
            "type": "boolean",
            "description": "Modem type"
          },
          "primary": {
            "type": "boolean",
            "description": "Modem type"
          },
          "sim_count": {
            "type": "number",
            "description": "Modem SIM count"
          },
          "mode": {
            "type": "number",
            "enum": [
              0,
              1,
              2,
              3
            ]
          },
          "multi_apn": {
            "type": "boolean"
          },
          "operators_scan": {
            "type": "boolean"
          },
          "dynamic_mtu": {
            "type": "boolean"
          },
          "ipv6": {
            "type": "boolean"
          },
          "volte": {
            "type": "boolean"
          }
        }
      }
    },
    "responses": {
      "mobile_status_full_multiple": {
        "description": "Example response",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "data": {
                  "items": {
                    "anyOf": [
                      {
                        "$ref": "#/components/schemas/status_full"
                      },
                      {
                        "$ref": "#/components/schemas/status_offline"
                      }
                    ]
                  },
                  "type": "array"
                }
              }
            }
          }
        }
      },
      "mobile_status_full_one": {
        "description": "Example response",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "data": {
                  "anyOf": [
                    {
                      "$ref": "#/components/schemas/status_full"
                    },
                    {
                      "$ref": "#/components/schemas/status_offline"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    }
  }
}