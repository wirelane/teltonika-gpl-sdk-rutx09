{
  "openapi": "3.0.0",
  "info": {
    "title": "internet",
    "version": "1.0"
  },
  "paths": {
    "/internet_connection/global": {
      "get": {
        "summary": "Returns internet global configuration",
        "tags": ["General"],
        "operationId": "get-internet-general-config",
        "responses": {
          "200": {
            "$ref": "#/components/responses/200_internet_global"
          }
        }
      },
      "put": {
        "summary": "Updates internet global configuration",
        "operationId": "put-internet-general-config",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/internet_global"
              }
            }
          }
        },
        "responses": {
          "200": {
            "$ref": "#/components/responses/200_internet_global"
          },
          "422": {
            "$ref": "#/components/responses/422response"
          }
        },
        "tags": ["General"]
      },
      "parameters": [],
      "x-web": {
        "menu": ["Network", "Internet", "Internet"],
        "hw_tags": {
          "is_access_point": false,
          "is_switch": false
        }
      }
    },
    "/internet_connection/status": {
      "get": {
        "summary": "Returns internet status",
        "tags": ["General"],
        "operationId": "get-internet-status",
        "responses": {
          "200": {
            "$ref": "#/components/responses/200_internet_status"
          }
        }
      },
      "x-web": {
        "menu": ["Network", "Internet", "Internet"],
        "hw_tags": {
          "is_access_point": false,
          "is_switch": false
        }
      }
    }
  },
  "components": {
    "schemas": {
      "internet_global": {
        "type": "object",
        "properties": {
          "enabled": {
            "type": "string",
            "description": "Enable internet status checking.",
            "enum": ["1", "0"],
            "x-web": {
              "pretty": "Enable",
              "input-type": "switch"
            }
          },
          "track_ipv4": {
            "x-web": {
              "input-type": "input",
              "pretty": "Track IPv4"
            },
            "type": "string",
            "format": "ipv4",
            "description": "IPv4 address to be monitored"
          },
          "track_ipv6": {
            "x-web": {
              "input-type": "input",
              "pretty": "Track IPv6"
            },
            "type": "string",
            "format": "ipv6",
            "description": "IPv6 address to be monitored"
          },
          "track_domain": {
            "x-web": {
              "input-type": "input",
              "pretty": "Track domain"
            },
            "type": "string",
            "format": "hostname",
            "description": "Domain to be checked if alive"
          },
          "interval": {
            "x-web": {
              "input-type": "input",
              "pretty": "Interval"
            },
            "type": "string",
            "format": "irange(30,86400)",
            "description": "The time interval in seconds at which the connectivity status should be checked"
          }
        },
        "required": ["interval"]
      },
      "internet_status": {
        "type": "object",
        "properties": {
          "ipv4_status": {
            "type": "string",
            "description": "Monitored IPv4 address status"
          },
          "ipv6_status": {
            "type": "string",
            "description": "Monitored IPv6 address status"
          },
          "dns_status": {
            "type": "string",
            "description": "Monitored domain status"
          }
        }
      }
    },
    "responses": {
      "200_internet_global": {
        "description": "Example response",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "description": "Operation status"
                },
                "data": {
                  "$ref": "#/components/schemas/internet_global"
                }
              }
            }
          }
        }
      },
      "200_internet_status": {
        "description": "Example response",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "success": {
                  "type": "boolean",
                  "description": "Operation status"
                },
                "data": {
                  "$ref": "#/components/schemas/internet_status"
                }
              }
            }
          }
        }
      }
    }
  }
}
