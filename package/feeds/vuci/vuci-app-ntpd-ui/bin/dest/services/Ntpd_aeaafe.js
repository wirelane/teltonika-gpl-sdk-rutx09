(function(s,l){typeof exports=="object"&&typeof module<"u"?module.exports=l():typeof define=="function"&&define.amd?define(l):(s=typeof globalThis<"u"?globalThis:s||self,s["services/Ntpd_js"]=l())})(this,function(){"use strict";function s(n,e,i,f,t,d,u,v){var r=typeof n=="function"?n.options:n;e&&(r.render=e,r.staticRenderFns=i,r._compiled=!0),f&&(r.functional=!0),d&&(r._scopeId="data-v-"+d);var o;if(u?(o=function(a){a=a||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!a&&typeof __VUE_SSR_CONTEXT__<"u"&&(a=__VUE_SSR_CONTEXT__),t&&t.call(this,a),a&&a._registeredComponents&&a._registeredComponents.add(u)},r._ssrRegister=o):t&&(o=v?function(){t.call(this,(r.functional?this.parent:this).$root.$options.shadowRoot)}:t),o)if(r.functional){r._injectStyles=o;var b=r.render;r.render=function($,m){return o.call(m),b($,m)}}else{var c=r.beforeCreate;r.beforeCreate=c?[].concat(c,o):[o]}return{exports:n,options:r}}const l={data(){return{ntpServerEnabled:!1,formData:{},editErrors:{103:this.$t("NTP configuration file is required"),default:this.$t("Failed to edit configuration")}}},methods:{afterLoad(){return this.$axios.get("/api/date_time/ntp/server/config/general").then(({data:n})=>{this.ntpServerEnabled=n.enabled==="1",this.ntpServerEnabled&&this.$alert.info(this.$t("Can't enable NTPD and NTP server both at the same time"))}).catch(()=>{this.$message.error("Failed to get ntp server status")})},handleEditErrors(n){const e=n.data.errors[0].code;return this.editErrors[e]||this.editErrors.default}}};var h=function(){var e=this,i=e._self._c;return i("vuci-form",{attrs:{config:"ntpd","after-load":e.afterLoad},scopedSlots:e._u([{key:"default",fn:function({uciData:f}){return[i("vuci-named-section",{attrs:{"uci-data":f,title:e.$t("NTPD"),type:"timeserver",name:"ntp",endpoints:[{endpoint:"date_time/ntpd/config"}],"data-key":"ntpd","error-handlers":{edit:e.handleEditErrors}},scopedSlots:e._u([{key:"default",fn:function({s:t}){return[i("vuci-form-item-switch",{attrs:{"uci-section":t,name:"enabled",label:e.$t("Enable"),help:e.$t("Enable NTPD"),initial:"0",readonly:e.ntpServerEnabled,rmempty:!1}}),i("vuci-form-item-switch",{attrs:{"uci-section":t,name:"file_flag",label:e.$t("Enable NTP config from file"),help:e.$t("Run NTPD with uploaded configuration file"),initial:"0",rmempty:!1}}),i("vuci-form-item-upload",{attrs:{"uci-section":t,name:"config_file",label:e.$t("NTP configuration file"),help:e.$t("Warning! This will overwrite your current configuration."),depend:t.file_flag==="1",required:t.enabled==="1"&&t.file_flag==="1","max-size":"16MB"}}),i("vuci-form-item-list",{attrs:{"uci-section":t,name:"server",label:e.$t("Server"),help:e.$t("Enter NTP server hostname for time synchronization"),placeholder:"myhost.example.com",rules:"host",depend:t.file_flag==="0",required:t.enabled==="1"}}),i("vuci-form-item-switch",{attrs:{"uci-section":t,name:"enable_server",label:e.$t("Enable server"),help:e.$t("This is used to make the router act as an NTP server so that it can provide time synchronization services for other network devices."),initial:"0",depend:t.file_flag==="0",rmempty:!1}})]}}],null,!0)})]}}]),model:{value:e.formData,callback:function(f){e.formData=f},expression:"formData"}})},p=[],_=s(l,h,p,!1,null,null,null,null);return _.exports});
