(function(s,l){typeof exports=="object"&&typeof module<"u"?module.exports=l():typeof define=="function"&&define.amd?define(l):(s=typeof globalThis<"u"?globalThis:s||self,s["services/ThingWorx_js"]=l())})(this,function(){"use strict";function s(i,e,r,p,t,c,f,v){var n=typeof i=="function"?i.options:i;e&&(n.render=e,n.staticRenderFns=r,n._compiled=!0),p&&(n.functional=!0),c&&(n._scopeId="data-v-"+c);var o;if(f?(o=function(a){a=a||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!a&&typeof __VUE_SSR_CONTEXT__<"u"&&(a=__VUE_SSR_CONTEXT__),t&&t.call(this,a),a&&a._registeredComponents&&a._registeredComponents.add(f)},n._ssrRegister=o):t&&(o=v?function(){t.call(this,(n.functional?this.parent:this).$root.$options.shadowRoot)}:t),o)if(n.functional){n._injectStyles=o;var g=n.render;n.render=function($,d){return o.call(d),g($,d)}}else{var u=n.beforeCreate;n.beforeCreate=u?[].concat(u,o):[o]}return{exports:i,options:n}}const l={data(){return{interfaces:[],isAppkeySet:!1,appkeySetPlaceholder:this.$t("Application key is set")}},computed:{interfaceOptions(){return this.interfaces.filter(i=>i.proto==="wwan"||i.proto==="connm").map(this.$network.getName)}},methods:{loadData(i){return this.$axios.get("/api/interfaces/config").then(({data:e})=>(this.interfaces=e,this.isAppkeySet=i.thingworx[0].appkey==="set",i.thingworx[0].appkey="",i)).catch(()=>{this.$message.error(this.$t("Failed to get interface options"))})},onAfterSave(i,e){this.isAppkeySet=e.data.appkey==="set",e.data.appkey=""}}};var h=function(){var e=this,r=e._self._c;return r("vuci-form",{attrs:{config:"iottw","after-load":e.loadData},scopedSlots:e._u([{key:"default",fn:function({uciData:p}){return[r("vuci-named-section",{attrs:{"uci-data":p,name:"thingworx",title:e.$t("ThingWorx"),endpoints:[{endpoint:"thingworx/config",sectionFilter:t=>t[0]}],"data-key":"thingworx","after-save":e.onAfterSave},scopedSlots:e._u([{key:"default",fn:function({s:t}){return[r("vuci-form-item-switch",{attrs:{"uci-section":t,name:"enabled",label:e.$t("Enable"),help:e.$t("Enable ThingWorx Application")}}),r("vuci-form-item-input",{attrs:{"uci-section":t,name:"server",label:e.$t("Server address"),help:e.$t("ThingWorx Server IP"),placeholder:"PP-0000000000AA.devportal.ptc.io",rules:"host",required:t.enabled==="1"}}),r("vuci-form-item-input",{attrs:{"uci-section":t,name:"port",label:e.$t("Server port"),help:e.$t("ThingWorx Server Port"),rules:"port",required:t.enabled==="1"}}),r("vuci-form-item-input",{attrs:{"uci-section":t,name:"thing",label:e.$t("Thing name"),help:e.$t("Thing name defined in ThingWorx CP"),rules:"uciname",maxlength:"32",required:t.enabled==="1"}}),r("vuci-form-item-input",{attrs:{"uci-section":t,name:"appkey",label:e.$t("Application key"),help:e.$t("Application key generated in ThingWorx CP"),maxlength:"128",rules:"fieldvalidation('^[a-zA-Z0-9_-]+$')","no-write":t.appkey==="",placeholder:e.isAppkeySet?e.appkeySetPlaceholder:"",required:t.enabled==="1"&&!e.isAppkeySet}}),r("vuci-form-item-select",{attrs:{"uci-section":t,name:"iface",label:e.$t("Mobile interface"),help:e.$t("Interface name for which gsm values would be selected"),depend:e.interfaceOptions.length>0,options:e.interfaceOptions}})]}}],null,!0)})]}}])})},m=[],_=s(l,h,m,!1,null,null,null,null);return _.exports});
